<% obj.each do |article| %>
<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <div class="well well-lg">
            <%= react_component("Article", { title: article.title,
                                                 path: article_path(article),
                                                 description: truncate(article.description, length: 100)}) %>
            <div class="article-body">
                <div class="article-meta-details">
                    <small>
                        Created by: <%= article.user.username if article.user %>,
                        <%= time_ago_in_words(article.created_at) %> ago,
                        last updated: <%= time_ago_in_words(article.updated_at) %> ago
                    </small>
                </div>
            </div>
            <% if article.categories.any? %>
                <p>Categories: <%= render article.categories %></p>
            <% end %>
            <div class="article-actions">
                <%= link_to "Read this article", article_path(article), class:"btn btn-sm btn-info" %>
                <% if logged_in? && (current_user == article.user || current_user.admin?) %>
                    <%= link_to "Edit", edit_article_path(article),
                    class:"btn btn-sm btn-primary" %>
                   <%= link_to "Delete", article_path(article),
                    method: :delete, data: {confirm: "Are you sure?"}, class: "btn btn-sm btn-danger" %>
                <% end %>
            </div>

        </div>
    </div>
</div>
<% end %>
